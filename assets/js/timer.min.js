!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.timer=b():a.timer=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";a.exports=c(1).default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(2),h=d(g),i=c(3),j=d(i),k=c(4),l=d(k),m=c(6),n=d(m),o=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,a),this.options=(0,h.default)(a.options,c),this.transitionEnd="webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd, transitionEnd",this._setupElements(),this.base=new j.default,this.animations=new l.default(this.options,this.elements,this.base),this.cookies=new n.default,this.elements.reset.addEventListener("click",function(a){b.elements.showLoader(),b.reset()},!1),this.init()}return f(a,[{key:"setClick",value:function(){this.elements.timer.addEventListener("click",this.fn,!1)}},{key:"setMessage",value:function(b){var c;switch(b){case"start":c=a.startText.replace("%%duration%%",this.options.duration);break;case"end":c=a.endText.replace("%%duration%%",this.options.duration);break;default:c=a.defaultText}this.elements.message.innerHTML=c}},{key:"init",value:function(){var a=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.fn=function(b){a.start()},this.setClick(),this.base.addClass(this.elements.message,"timer__message--start"),this.options.inputControl?this.setMessage():this.setMessage("start"),this.elements.message.style.display="block",this.elements.hideLoader()}},{key:"start",value:function(){var a=this;return this.elements.timer.removeEventListener("click",this.fn),this.options.inputControl&&0==this.options.inputControl?void alert("Value must be greater than 0"):(this.options.duration=this.options.inputControl?this.options.inputControl.value:this.options.duration,void this.animations.run(this.options.duration,function(){a.end()}))}},{key:"end",value:function(){this.setMessage("end"),this.elements.message.style.display="block",this.elements.reset.style.display="block"}},{key:"reset",value:function(){var a=this;console.log(1),this.elements.message.style.display="none",this.elements.reset.style.display="none";var b=function(b){a.base.removeClass(a.elements.message,"timer__message--end"),a.base.removeClass(a.elements.timer,"timer--not-reset"),a.base.addClass(a.elements.timer,"timer--reset"),a.init()};this.base.onetime(this.elements.progress,this.transitionEnd,b),this.elements.progress.style.right="100%"}},{key:"_setupElements",value:function(){var a=this.options.selector;console.log(a),this.elements={timer:a,progress:a.querySelector(".timer__progress"),reset:a.querySelector(".timer__reset"),loader:a.querySelector(".timer__loader"),message:a.querySelector(".timer__message"),showLoader:function(){console.log("showLoader"),this.loader.style.display="block"},hideLoader:function(){console.log("hideLoader"),this.loader.style.display="none"}},console.log(this.elements),""!==this.options.readyBGColor&&(this.elements.timer.style.background=this.options.readyBGColor),""!==this.options.progressBGColor&&(this.elements.progress.style.background=this.options.progressBGColor)}}]),a}();o.startText="Click to begin a %%duration%%-minute timer",o.endText="%%duration%% minutes have passed",o.defaultText="Please choose time",o.options={selector:document.querySelector(".timer"),duration:10,readyBGColor:"",progressBGColor:"",endChime:"",inputControl:!1},b.default=o},function(a,b){function c(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var e in c)d.call(c,e)&&(a[e]=c[e])}return a}a.exports=c;var d=Object.prototype.hasOwnProperty},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(){c(this,a)}return d(a,[{key:"removeClass",value:function(a,b){for(var c=b.split(" "),d=0;d<c.length;d++)a.classList.remove(c[d])}},{key:"addClass",value:function(a,b){for(var c=b.split(" "),d=0;d<c.length;d++)a.classList.add(c[d])}},{key:"toggleClass",value:function(a,b){for(var c=b.split(" "),d=0;d<c.length;d++)a.classList.toggle(c[d])}},{key:"hasClass",value:function(a,b){for(var c=b.split(" "),d=0;d<c.length;d++)if(!a.classList.contains(c[d]))return!1;return!0}},{key:"onetime",value:function(a,b,c){for(var d=b.split(" "),e=function a(b){for(var e=0;e<d.length;e++)b.target.removeEventListener(d[e],a);return c(b)},f=0;f<d.length;f++)a.addEventListener(d[f],e,!1)}},{key:"fireEvent",value:function(a,b){var c=new CustomEvent(b);a.dispatchEvent(c,!0)}}]),a}();b.default=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(5),h=d(g),i=function(){function a(b,c,d){e(this,a),this.sound=new h.default,this.options=b,this.elements=c,this.base=d,this.init(),this.sound.init(this.options.endChime,100,!1,!1),this.transitionSeconds=1e3}return f(a,[{key:"init",value:function(){this.count=100}},{key:"run",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("Started timer..."),this.callback=c,this.durationSeconds=60*b,this.base.removeClass(this.elements.message,"timer__message--start"),this.base.removeClass(this.elements.timer,"timer--stopped timer--reset"),this.base.addClass(this.elements.timer,"timer--running"),this.base.addClass(this.elements.progress,"timer__progress--running"),this.elements.message.style.display="none",this.count=this.increment=100/this.durationSeconds,this.setVendor(this.elements.progress,"TransitionDuration",this.transitionSeconds/1e3+"s"),console.log(this.elements.progress.style),this.runInterval=setInterval(function(){a.step()},1e3)}},{key:"step",value:function(){var a=this;console.log(this.count),this.elements.progress.style.right=100-this.count+"%",100==parseInt(this.count)&&setTimeout(function(){a.sound.start(),a.stop()},this.transitionSeconds),this.count+=this.increment,this.count>100&&(this.count=100)}},{key:"stop",value:function(){this.count=0,clearInterval(this.runInterval),this.base.addClass(this.elements.message,"timer__message--end"),this.base.removeClass(this.elements.timer,"timer--running"),this.base.removeClass(this.elements.progress,"timer__progress--running"),this.base.addClass(this.elements.timer,"timer--stopped timer--not-reset"),console.log("Stopped timer..."),this.init(),this.callback()}},{key:"setVendor",value:function(a,b,c){a.style["webkit"+b]=c,a.style["moz"+b]=c,a.style["ms"+b]=c,a.style["o"+b]=c}}]),a}();b.default=i},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(){c(this,a);var b;this.son=b,this.finish=!1}return d(a,[{key:"stop",value:function(){this.son.pause(),this.son.currentTime=0}},{key:"start",value:function(){var a=this;this.son.play(),setTimeout(function(){a.stop()},1e3*this.son.duration)}},{key:"remove",value:function(){return null!=this.son&&(document.body.removeChild(this.son),void(this.finish=!0))}},{key:"init",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.finish=!1,this.volume=b,this.loop=c,""!==a){if(this.source=a,this.volume=b,this.loop=c,this.finish)return!1;this.son=document.createElement("audio"),this.son.setAttribute("src",this.source),this.son.setAttribute("style","visibility:hidden;height:0;"),this.son.setAttribute("volume",this.volume),this.son.setAttribute("autostart",d),this.son.setAttribute("loop",this.loop),document.body.appendChild(this.son)}}}]),a}();b.default=e},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(){c(this,a)}return d(a,[{key:"set",value:function(a,b,c,d){if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3);var f="; expires="+e.toGMTString()}else var f="";var g=d||"/";document.cookie=a+"="+b+f+"; path="+g}},{key:"get",value:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null}},{key:"delete",value:function(a){this.set(a,"",-1)}}]),a}();b.default=e}])});